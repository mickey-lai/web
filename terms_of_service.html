<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terms of Service - GuruFocus</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }

        /* Header */
        .navbar {
            background: linear-gradient(135deg, #4a6cf7, #3b5998);
            padding: 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            /* 移除sticky定位，與Privacy Policy保持一致 */
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            height: 60px;
        }

        .logo {
            color: white;
            font-size: 24px;
            font-weight: 700;
            text-decoration: none;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        .nav-item a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.3s;
        }

        .nav-item a:hover {
            opacity: 0.8;
        }

        .nav-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-trial {
            background: #ffc107;
            color: #333;
        }

        .btn-trial:hover {
            background: #ffca2c;
            transform: translateY(-1px);
        }

        .btn-demo {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .btn-demo:hover {
            background: rgba(255,255,255,0.3);
        }

        /* Main Content */
        .main-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 60px 20px;
            background: white;
            margin-top: 40px;
            margin-bottom: 80px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .page-header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 2px solid #f0f0f0;
        }

        .page-title {
            font-size: 42px;
            font-weight: 700;
            color: #333;
            margin-bottom: 15px;
        }

        .page-subtitle {
            font-size: 18px;
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }

        .last-updated {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 40px;
            text-align: center;
            color: #666;
            font-size: 14px;
        }

        .terms-content h2 {
            font-size: 28px;
            font-weight: 600;
            color: #333;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #4a6cf7;
            scroll-margin-top: 80px; /* 為sticky header留出空間 */
        }

        .policy-section {
            margin-bottom: 40px;
            scroll-margin-top: 20px; /* 減少偏移量，與Privacy Policy保持一致 */
        }

        .policy-section:first-child {
            margin-top: 0;
        }

        .terms-content h3 {
            font-size: 22px;
            font-weight: 600;
            color: #333;
            margin-top: 30px;
            margin-bottom: 15px;
            scroll-margin-top: 80px;
        }

        .terms-content h4 {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-top: 25px;
            margin-bottom: 12px;
        }

        .terms-content p {
            margin-bottom: 15px;
            font-size: 16px;
            line-height: 1.7;
        }

        .terms-content ul {
            margin-bottom: 20px;
            padding-left: 25px;
        }

        .terms-content li {
            margin-bottom: 8px;
            font-size: 16px;
            line-height: 1.6;
        }

        .important-notice {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
        }

        .important-notice h4 {
            color: #856404;
            margin-bottom: 10px;
            margin-top: 0;
        }

        .important-notice p {
            color: #856404;
            margin-bottom: 0;
        }

        .contact-info {
            background: linear-gradient(135deg, #d1ecf1, #bee5eb);
            border: 1px solid #4a6cf7;
            border-radius: 8px;
            padding: 25px;
            margin: 40px 0;
            text-align: center;
        }

        .contact-info h3 {
            color: #0c5460;
            margin-bottom: 15px;
            margin-top: 0;
        }

        .contact-info p {
            color: #0c5460;
            margin-bottom: 10px;
        }

        .contact-info a {
            color: #4a6cf7;
            text-decoration: none;
            font-weight: 600;
        }

        .contact-info a:hover {
            text-decoration: underline;
        }

        .table-of-contents {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 40px;
            /* 移除sticky定位，與Privacy Policy保持一致 */
        }

        .table-of-contents h3 {
            color: #333;
            margin-bottom: 15px;
            margin-top: 0;
        }

        .table-of-contents ul {
            list-style: none;
            padding-left: 0;
        }

        .table-of-contents li {
            margin-bottom: 8px;
        }

        .table-of-contents a {
            color: #4a6cf7;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 12px;
            border-radius: 6px;
            display: block;
            transition: all 0.3s ease;
        }

        .table-of-contents a:hover {
            background: rgba(74, 108, 247, 0.1);
            transform: translateX(5px);
        }

        .table-of-contents a.active {
            background: rgba(74, 108, 247, 0.15);
            font-weight: 600;
            color: #3b5998;
        }

        /* Footer */
        .footer {
            background: #1a1a2e;
            color: white;
            padding: 60px 0 30px;
            margin-top: 80px;
        }

        .footer-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .footer-top {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-brand {
            padding-right: 40px;
        }

        .footer-logo {
            font-size: 28px;
            font-weight: 700;
            color: #4a6cf7;
            margin-bottom: 20px;
        }

        .footer-description {
            color: #a0a0a0;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .footer-social {
            display: flex;
            gap: 15px;
        }

        .social-link {
            width: 40px;
            height: 40px;
            background: rgba(74, 108, 247, 0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a6cf7;
            text-decoration: none;
            transition: all 0.3s;
        }

        .social-link:hover {
            background: #4a6cf7;
            color: white;
            transform: translateY(-2px);
        }

        .footer-section h4 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: white;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: #a0a0a0;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: #4a6cf7;
        }

        .footer-bottom {
            border-top: 1px solid #333;
            padding-top: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .footer-copyright {
            color: #a0a0a0;
        }

        .footer-legal {
            display: flex;
            gap: 30px;
        }

        .footer-legal a {
            color: #a0a0a0;
            text-decoration: none;
            transition: color 0.3s;
            font-weight: 600;
        }

        .footer-legal a:hover {
            color: #4a6cf7;
        }

        .footer-legal a.current {
            color: #4a6cf7;
        }

        /* Reading Progress Bar */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background: linear-gradient(90deg, #4a6cf7, #667eea);
            z-index: 1000;
            transition: width 0.1s ease;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .page-title {
                font-size: 32px;
            }

            .main-content {
                margin: 20px;
                padding: 40px 20px;
            }

            .terms-content h2 {
                font-size: 24px;
                /* 移除響應式版本的scroll-margin-top調整 */
            }

            .terms-content h3 {
                font-size: 20px;
            }

            .table-of-contents {
                position: static;
            }

            .footer-top {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
            }

            .footer-legal {
                flex-direction: column;
                gap: 15px;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .main-content {
            animation: fadeInUp 0.6s ease-out;
        }
    </style>
</head>
<body>
    <!-- Reading Progress Bar -->
    <div class="reading-progress"></div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">GuruFocus</a>
            <ul class="nav-menu">
                <li class="nav-item"><a href="index.html">Home</a></li>
                <li class="nav-item"><a href="Platform/stock_screener.html">Screeners</a></li>
                <li class="nav-item"><a href="Research/guru_tracking.html">Gurus</a></li>
                <li class="nav-item"><a href="Platform/market_data.html">Market</a></li>
                <li class="nav-item"><a href="Research/market_news.html">News</a></li>
                <li class="nav-item"><a href="Platform/options_tools.html">Tools</a></li>
                <li class="nav-item"><a href="Resources/community_forum.html">Discussion</a></li>
                <li class="nav-item"><a href="Company/pricing.html">Pricing</a></li>
            </ul>
            <div class="nav-actions">
                <a href="day_free_trial.html" class="btn btn-trial">7-Day Free Trial</a>
                <a href="book_demo.html" class="btn btn-demo">Book Demo</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="page-header">
            <h1 class="page-title">Terms of Service</h1>
            <p class="page-subtitle">Please read these terms carefully before using GuruFocus platform and services</p>
        </div>

        <div class="last-updated">
            <strong>Last Updated:</strong> June 11, 2025
        </div>

        <div class="table-of-contents">
            <h3>Table of Contents</h3>
            <ul>
                <li><a href="#acceptance" data-section="acceptance">1. Acceptance of Terms</a></li>
                <li><a href="#description" data-section="description">2. Description of Service</a></li>
                <li><a href="#registration" data-section="registration">3. User Registration and Account</a></li>
                <li><a href="#subscription" data-section="subscription">4. Subscription and Payment Terms</a></li>
                <li><a href="#use-restrictions" data-section="use-restrictions">5. Acceptable Use and Restrictions</a></li>
                <li><a href="#data-disclaimer" data-section="data-disclaimer">6. Investment Data and Disclaimer</a></li>
                <li><a href="#intellectual-property" data-section="intellectual-property">7. Intellectual Property Rights</a></li>
                <li><a href="#privacy" data-section="privacy">8. Privacy and Data Protection</a></li>
                <li><a href="#limitation" data-section="limitation">9. Limitation of Liability</a></li>
                <li><a href="#termination" data-section="termination">10. Termination</a></li>
                <li><a href="#modifications" data-section="modifications">11. Modifications to Terms</a></li>
                <li><a href="#governing-law" data-section="governing-law">12. Governing Law</a></li>
                <li><a href="#contact" data-section="contact">13. Contact Information</a></li>
            </ul>
        </div>

        <div class="terms-content">
            <section id="acceptance" class="policy-section">
                <h2>1. Acceptance of Terms</h2>
                <p>By accessing or using the GuruFocus platform ("Service"), you agree to be bound by these Terms of Service ("Terms"). If you disagree with any part of these terms, then you may not access the Service.</p>
                
                <p>These Terms apply to all visitors, users, and others who access or use the Service. Your access to and use of the Service is conditioned on your acceptance of and compliance with these Terms.</p>
            </section>

            <section id="description" class="policy-section">
                <h2>2. Description of Service</h2>
                <p>GuruFocus is a professional investment research platform that provides:</p>
                <ul>
                    <li>Advanced stock screening tools with 500+ filters</li>
                    <li>Portfolio analysis and optimization tools</li>
                    <li>Real-time market data and financial information</li>
                    <li>Investment research and analysis tools</li>
                    <li>Guru tracking and institutional investment insights</li>
                    <li>Backtesting and strategy development tools</li>
                    <li>DCF valuation models and financial calculators</li>
                </ul>

                <div class="important-notice">
                    <h4>Important Investment Disclaimer</h4>
                    <p>GuruFocus provides information and tools for educational and research purposes only. We do not provide investment advice, and no content on our platform should be considered as such. All investment decisions are your own responsibility.</p>
                </div>
            </section>

            <section id="registration" class="policy-section">
                <h2>3. User Registration and Account</h2>
                <h3>3.1 Account Creation</h3>
                <p>To access certain features of the Service, you must register for an account. When you create an account, you must provide information that is accurate, complete, and current at all times.</p>

                <h3>3.2 Account Security</h3>
                <p>You are responsible for safeguarding the password and for all activities that occur under your account. You agree to:</p>
                <ul>
                    <li>Choose a strong, unique password</li>
                    <li>Not share your account credentials with others</li>
                    <li>Notify us immediately of any unauthorized access</li>
                    <li>Log out of your account at the end of each session</li>
                </ul>

                <h3>3.3 Account Termination</h3>
                <p>We reserve the right to terminate or suspend your account immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms.</p>
            </section>

            <section id="subscription" class="policy-section">
                <h2>4. Subscription and Payment Terms</h2>
                <h3>4.1 Subscription Plans</h3>
                <p>GuruFocus offers various subscription plans with different features and pricing. Current pricing and plan details are available on our website.</p>

                <h3>4.2 Free Trial</h3>
                <p>We may offer a free trial period for new users. After the trial period, you will be charged the subscription fee unless you cancel before the trial expires.</p>

                <h3>4.3 Payment and Billing</h3>
                <ul>
                    <li>Subscription fees are billed in advance on a monthly or annual basis</li>
                    <li>Payment is due immediately upon subscription or renewal</li>
                    <li>We accept major credit cards and other payment methods as specified</li>
                    <li>All fees are non-refundable unless otherwise stated</li>
                </ul>

                <h3>4.4 Automatic Renewal</h3>
                <p>Your subscription will automatically renew at the end of each billing period unless you cancel your subscription before the renewal date.</p>

                <h3>4.5 Cancellation</h3>
                <p>You may cancel your subscription at any time through your account settings. Cancellation will be effective at the end of your current billing period.</p>
            </section>

            <section id="use-restrictions" class="policy-section">
                <h2>5. Acceptable Use and Restrictions</h2>
                <h3>5.1 Permitted Use</h3>
                <p>You may use the Service only for lawful purposes and in accordance with these Terms. You agree to use the Service only for your personal or internal business purposes.</p>

                <h3>5.2 Prohibited Activities</h3>
                <p>You agree not to:</p>
                <ul>
                    <li>Use the Service for any unlawful purpose or illegal activity</li>
                    <li>Attempt to gain unauthorized access to any part of the Service</li>
                    <li>Reverse engineer, decompile, or disassemble any part of the Service</li>
                    <li>Use automated scripts, bots, or data mining tools</li>
                    <li>Resell, redistribute, or sublicense the Service</li>
                    <li>Share your account credentials with unauthorized users</li>
                    <li>Interfere with or disrupt the Service or servers</li>
                </ul>

                <h3>5.3 Data Usage Limits</h3>
                <p>Your use of the Service may be subject to certain usage limits, including but not limited to API calls, data downloads, and concurrent sessions.</p>
            </section>

            <section id="data-disclaimer" class="policy-section">
                <h2>6. Investment Data and Disclaimer</h2>
                <h3>6.1 Data Sources</h3>
                <p>We obtain financial data from various third-party sources that we believe to be reliable. However, we cannot guarantee the accuracy, completeness, or timeliness of such data.</p>

                <h3>6.2 No Investment Advice</h3>
                <p>The information provided through the Service is for informational and educational purposes only and should not be considered as:</p>
                <ul>
                    <li>Investment, financial, or tax advice</li>
                    <li>A recommendation to buy, sell, or hold any security</li>
                    <li>A guarantee of future performance</li>
                    <li>Personalized investment guidance</li>
                </ul>

                <h3>6.3 Risk Disclosure</h3>
                <p>All investments involve risk, including the potential loss of principal. Past performance does not guarantee future results. You should consult with qualified professionals before making investment decisions.</p>

                <div class="important-notice">
                    <h4>Investment Risk Warning</h4>
                    <p>Trading and investing in financial markets involves substantial risk of loss and is not suitable for all investors. You should carefully consider your investment objectives, risk tolerance, and financial situation before using any information or tools provided by GuruFocus.</p>
                </div>
            </section>

            <section id="intellectual-property" class="policy-section">
                <h2>7. Intellectual Property Rights</h2>
                <h3>7.1 Our Property</h3>
                <p>The Service and its original content, features, and functionality are and will remain the exclusive property of GuruFocus and its licensors. The Service is protected by copyright, trademark, and other laws.</p>

                <h3>7.2 Limited License</h3>
                <p>We grant you a limited, non-exclusive, non-transferable license to access and use the Service strictly in accordance with these Terms.</p>

                <h3>7.3 Restrictions</h3>
                <p>You may not copy, modify, distribute, sell, or lease any part of our Service or included software, nor may you reverse engineer or attempt to extract the source code of that software.</p>
            </section>

            <section id="privacy" class="policy-section">
                <h2>8. Privacy and Data Protection</h2>
                <p>Your privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your information when you use our Service. By using our Service, you agree to the collection and use of information in accordance with our Privacy Policy.</p>

                <h3>8.1 Data Security</h3>
                <p>We implement appropriate technical and organizational measures to protect your personal data against unauthorized access, alteration, disclosure, or destruction.</p>

                <h3>8.2 Data Retention</h3>
                <p>We retain your personal data only for as long as necessary to provide the Service and comply with legal obligations.</p>
            </section>

            <section id="limitation" class="policy-section">
                <h2>9. Limitation of Liability</h2>
                <h3>9.1 Disclaimer of Warranties</h3>
                <p>THE SERVICE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.</p>

                <h3>9.2 Limitation of Liability</h3>
                <p>IN NO EVENT SHALL GURUFOCUS BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING WITHOUT LIMITATION, LOSS OF PROFITS, DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES.</p>

                <h3>9.3 Maximum Liability</h3>
                <p>OUR TOTAL LIABILITY TO YOU FOR ALL CLAIMS ARISING FROM OR RELATING TO THE SERVICE SHALL NOT EXCEED THE AMOUNT YOU PAID TO US IN THE TWELVE (12) MONTHS PRECEDING THE CLAIM.</p>
            </section>

            <section id="termination" class="policy-section">
                <h2>10. Termination</h2>
                <h3>10.1 Termination by You</h3>
                <p>You may terminate your account at any time by canceling your subscription through your account settings or by contacting us.</p>

                <h3>10.2 Termination by Us</h3>
                <p>We may terminate or suspend your account and access to the Service immediately, without prior notice, if you breach these Terms or for any other reason at our sole discretion.</p>

                <h3>10.3 Effect of Termination</h3>
                <p>Upon termination, your right to use the Service will cease immediately. All provisions of these Terms that should survive termination shall survive, including ownership provisions, warranty disclaimers, and limitations of liability.</p>
            </section>

            <section id="modifications" class="policy-section">
                <h2>11. Modifications to Terms</h2>
                <p>We reserve the right to modify or replace these Terms at any time. If a revision is material, we will try to provide at least 30 days advance notice prior to any new terms taking effect.</p>

                <p>Your continued use of the Service after any such changes constitutes your acceptance of the new Terms. If you do not agree to the new Terms, you should stop using the Service.</p>
            </section>

            <section id="governing-law" class="policy-section">
                <h2>12. Governing Law</h2>
                <p>These Terms shall be interpreted and governed by the laws of the jurisdiction in which GuruFocus is incorporated, without regard to its conflict of law provisions.</p>

                <h3>12.1 Dispute Resolution</h3>
                <p>Any disputes arising from these Terms or your use of the Service will be resolved through binding arbitration in accordance with the rules of the applicable arbitration association.</p>

                <h3>12.2 Class Action Waiver</h3>
                <p>You agree that any arbitration or legal proceeding shall be limited to the dispute between us individually. Neither you nor we will seek to have any dispute heard as a class action, private attorney general action, or in any other proceeding in which either party acts or proposes to act in a representative capacity.</p>
            </section>

            <section id="contact" class="policy-section">
                <h2>13. Contact Information</h2>
                <p>If you have any questions about these Terms, please contact us at:</p>
            </section>
        </div>

        <div class="contact-info">
            <h3>Contact GuruFocus</h3>
            <p><strong>Email:</strong> <a href="mailto:legal@gurufocus.com">legal@gurufocus.com</a></p>
            <p><strong>Support:</strong> <a href="mailto:support@gurufocus.com">support@gurufocus.com</a></p>
            <p><strong>Phone:</strong> +1 (555) 123-4567</p>
            <p><strong>Address:</strong> 123 Financial District, Suite 100, New York, NY 10004</p>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-top">
                <!-- Brand Section -->
                <div class="footer-brand">
                    <div class="footer-logo">GuruFocus</div>
                    <p class="footer-description">
                        Professional investment research platform providing advanced screening tools, portfolio analysis, and market insights to help investors make informed decisions.
                    </p>
                    <div class="footer-social">
                        <a href="https://facebook.com/gurufocus" class="social-link" target="_blank" rel="noopener">f</a>
                        <a href="https://twitter.com/gurufocus" class="social-link" target="_blank" rel="noopener">t</a>
                        <a href="https://linkedin.com/company/gurufocus" class="social-link" target="_blank" rel="noopener">in</a>
                        <a href="https://youtube.com/gurufocus" class="social-link" target="_blank" rel="noopener">yt</a>
                    </div>
                </div>

                <!-- Platform Section -->
                <div class="footer-section">
                    <h4>Platform</h4>
                    <ul class="footer-links">
                        <li><a href="Platform/stock_screener.html">Stock Screener</a></li>
                        <li><a href="Platform/portfolio_analyzer.html">Portfolio Analyzer</a></li>
                        <li><a href="Platform/backtesting.html">Backtesting</a></li>
                        <li><a href="Platform/dcf_calculator.html">DCF Calculator</a></li>
                        <li><a href="Platform/options_tools.html">Options Tools</a></li>
                        <li><a href="Platform/market_data.html">Market Data</a></li>
                        <li><a href="Platform/api_access.html">API Access</a></li>
                    </ul>
                </div>

                <!-- Research Section -->
                <div class="footer-section">
                    <h4>Research</h4>
                    <ul class="footer-links">
                        <li><a href="Research/guru_tracking.html">Guru Tracking</a></li>
                        <li><a href="Research/analyst_ratings.html">Analyst Ratings</a></li>
                        <li><a href="Research/market_news.html">Market News</a></li>
                        <li><a href="Research/economic_calendar.html">Economic Calendar</a></li>
                        <li><a href="Research/earnings_reports.html">Earnings Reports</a></li>
                        <li><a href="Research/research_reports.html">Research Reports</a></li>
                        <li><a href="Research/investment_Ideas.html">Investment Ideas</a></li>
                    </ul>
                </div>

                <!-- Resources Section -->
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul class="footer-links">
                        <li><a href="Resources/help_center.html">Help Center</a></li>
                        <li><a href="Resources/video_tutorials.html">Video Tutorials</a></li>
                        <li><a href="Resources/webinars.html">Webinars</a></li>
                        <li><a href="Resources/investment_guide.html">Investment Guide</a></li>
                        <li><a href="Resources/blog.html">Blog</a></li>
                        <li><a href="Resources/community_forum.html">Community Forum</a></li>
                        <li><a href="Resources/knowledge_base.html">Knowledge Base</a></li>
                    </ul>
                </div>

                <!-- Company Section -->
                <div class="footer-section">
                    <h4>Company</h4>
                    <ul class="footer-links">
                        <li><a href="Company/about_us.html">About Us</a></li>
                        <li><a href="Company/careers.html">Careers</a></li>
                        <li><a href="Company/contact.html">Contact</a></li>
                        <li><a href="Company/pricing.html">Pricing</a></li>
                        <li><a href="Company/enterprise.html">Enterprise</a></li>
                        <li><a href="Company/partners.html">Partners</a></li>
                        <li><a href="Company/press_kit.html">Press Kit</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <div class="footer-copyright">
                    © 2025 GuruFocus. All rights reserved.
                </div>
                <div class="footer-legal">
                    <a href="privacy_policy.html">Privacy Policy</a>
                    <a href="terms_of_service.html" class="current">Terms of Service</a>
                    <a href="cookie_policy.html">Cookie Policy</a>
                    <a href="disclaimer.html">Disclaimer</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // 修復目錄跳轉功能
        document.addEventListener('DOMContentLoaded', function() {
            
            // 1. 平滑滾動功能 - 處理目錄連結點擊
            function initSmoothScrolling() {
                const tocLinks = document.querySelectorAll('.table-of-contents a[href^="#"]');
                
                console.log(`找到 ${tocLinks.length} 個目錄連結`); // 調試信息
                
                tocLinks.forEach((link, index) => {
                    const href = link.getAttribute('href');
                    const targetId = href.substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    console.log(`連結 ${index + 1}: ${href} -> 目標元素: ${targetElement ? '找到' : '未找到'}`);
                    
                    link.addEventListener('click', function(e) {
                        e.preventDefault(); // 阻止預設行為
                        e.stopPropagation(); // 阻止事件冒泡
                        
                        console.log(`點擊了連結: ${href}`); // 調試信息
                        
                        const targetElement = document.getElementById(targetId);
                        
                        if (targetElement) {
                            console.log(`找到目標元素: ${targetElement.tagName}#${targetElement.id}`);
                            
                            // 計算滾動位置，考慮sticky header的高度
                            const navbar = document.querySelector('.navbar');
                            const tocElement = document.querySelector('.table-of-contents');
                            
                            let offsetAdjustment = 20; // 基本間距
                            
                            if (navbar) {
                                offsetAdjustment += navbar.offsetHeight;
                                console.log(`導航欄高度: ${navbar.offsetHeight}px`);
                            }
                            
                            if (tocElement && window.innerWidth > 768) {
                                // 在桌面版本上，目錄是sticky的，需要額外考慮
                                offsetAdjustment += 20;
                            }
                            
                            const targetRect = targetElement.getBoundingClientRect();
                            const currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;
                            const targetScrollTop = currentScrollTop + targetRect.top - offsetAdjustment;
                            
                            console.log(`當前滾動位置: ${currentScrollTop}px`);
                            console.log(`目標滾動位置: ${targetScrollTop}px`);
                            console.log(`偏移調整: ${offsetAdjustment}px`);
                            
                            // 平滑滾動到目標位置
                            window.scrollTo({
                                top: Math.max(0, targetScrollTop),
                                behavior: 'smooth'
                            });
                            
                            // 更新活動連結狀態
                            updateActiveLink(this);
                            
                            // 為目標元素添加臨時高亮效果
                            targetElement.style.transition = 'background-color 0.3s ease';
                            targetElement.style.backgroundColor = 'rgba(74, 108, 247, 0.1)';
                            
                            setTimeout(() => {
                                targetElement.style.backgroundColor = '';
                                setTimeout(() => {
                                    targetElement.style.transition = '';
                                }, 300);
                            }, 1000);
                            
                        } else {
                            console.error(`未找到目標元素: #${targetId}`);
                        }
                    });
                });
            }

            // 2. 更新活動連結狀態
            function updateActiveLink(activeLink) {
                // 移除所有活動狀態
                document.querySelectorAll('.table-of-contents a').forEach(link => {
                    link.classList.remove('active');
                });
                
                // 添加活動狀態到當前連結
                activeLink.classList.add('active');
            }

            // 3. 滾動監聽 - 根據滾動位置高亮對應的目錄項
            function initScrollSpy() {
                const sections = document.querySelectorAll('h2[id]');
                const tocLinks = document.querySelectorAll('.table-of-contents a[href^="#"]');
                
                const observerOptions = {
                    rootMargin: '-80px 0px -60% 0px', // 調整觸發區域
                    threshold: 0.1
                };

                const observer = new IntersectionObserver(function(entries) {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const id = entry.target.getAttribute('id');
                            const correspondingLink = document.querySelector(`.table-of-contents a[href="#${id}"]`);
                            
                            if (correspondingLink) {
                                updateActiveLink(correspondingLink);
                            }
                        }
                    });
                }, observerOptions);

                // 監聽所有章節標題
                sections.forEach(section => {
                    observer.observe(section);
                });
            }

            // 4. 閱讀進度條
            function initReadingProgress() {
                function updateProgress() {
                    const article = document.querySelector('.terms-content');
                    const articleHeight = article.offsetHeight;
                    const articleTop = article.offsetTop;
                    const scrollPosition = window.scrollY;
                    const windowHeight = window.innerHeight;
                    
                    const progress = Math.min(
                        Math.max((scrollPosition - articleTop + windowHeight / 3) / articleHeight, 0),
                        1
                    );
                    
                    const progressBar = document.querySelector('.reading-progress');
                    if (progressBar) {
                        progressBar.style.width = `${progress * 100}%`;
                    }
                }

                window.addEventListener('scroll', updateProgress);
                updateProgress(); // 初始化
            }

            // 5. 返回頂部按鈕
            function initBackToTop() {
                const backToTopBtn = document.createElement('button');
                backToTopBtn.innerHTML = '↑';
                backToTopBtn.className = 'back-to-top';
                backToTopBtn.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background: #4a6cf7;
                    color: white;
                    border: none;
                    border-radius: 50%;
                    width: 50px;
                    height: 50px;
                    cursor: pointer;
                    font-size: 20px;
                    font-weight: bold;
                    box-shadow: 0 4px 12px rgba(74, 108, 247, 0.3);
                    transition: all 0.3s ease;
                    opacity: 0;
                    visibility: hidden;
                    z-index: 1000;
                `;
                
                backToTopBtn.addEventListener('click', function() {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });

                document.body.appendChild(backToTopBtn);

                // 滾動時顯示/隱藏按鈕
                window.addEventListener('scroll', function() {
                    if (window.scrollY > 300) {
                        backToTopBtn.style.opacity = '1';
                        backToTopBtn.style.visibility = 'visible';
                    } else {
                        backToTopBtn.style.opacity = '0';
                        backToTopBtn.style.visibility = 'hidden';
                    }
                });
            }

            // 6. 鍵盤快捷鍵
            function initKeyboardShortcuts() {
                document.addEventListener('keydown', function(e) {
                    // Alt + T: 跳到目錄
                    if (e.altKey && (e.key === 't' || e.key === 'T')) {
                        e.preventDefault();
                        const toc = document.querySelector('.table-of-contents');
                        if (toc) {
                            toc.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    }
                    
                    // Alt + C: 跳到聯絡資訊
                    if (e.altKey && (e.key === 'c' || e.key === 'C')) {
                        e.preventDefault();
                        const contact = document.querySelector('#contact');
                        if (contact) {
                            contact.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    }
                });
            }

            // 7. 電子郵件複製功能
            function initEmailCopy() {
                document.querySelectorAll('a[href^="mailto:"]').forEach(emailLink => {
                    emailLink.addEventListener('click', function(e) {
                        e.preventDefault();
                        const email = this.textContent.trim();
                        
                        if (navigator.clipboard && window.isSecureContext) {
                            navigator.clipboard.writeText(email).then(() => {
                                showNotification('電子郵件地址已複製！');
                            }).catch(() => {
                                window.location.href = this.href;
                            });
                        } else {
                            // 備用方案：創建臨時輸入框
                            const tempInput = document.createElement('input');
                            tempInput.value = email;
                            document.body.appendChild(tempInput);
                            tempInput.select();
                            document.execCommand('copy');
                            document.body.removeChild(tempInput);
                            showNotification('電子郵件地址已複製！');
                        }
                    });
                });
            }

            // 8. 通知功能
            function showNotification(message) {
                const notification = document.createElement('div');
                notification.textContent = message;
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #4CAF50;
                    color: white;
                    padding: 12px 20px;
                    border-radius: 6px;
                    font-weight: 500;
                    z-index: 10000;
                    animation: slideInRight 0.3s ease-out;
                `;
                
                // 添加動畫樣式
                if (!document.querySelector('#notification-styles')) {
                    const style = document.createElement('style');
                    style.id = 'notification-styles';
                    style.textContent = `
                        @keyframes slideInRight {
                            from { transform: translateX(100%); opacity: 0; }
                            to { transform: translateX(0); opacity: 1; }
                        }
                        @keyframes slideOutRight {
                            from { transform: translateX(0); opacity: 1; }
                            to { transform: translateX(100%); opacity: 0; }
                        }
                    `;
                    document.head.appendChild(style);
                }
                
                document.body.appendChild(notification);
                
                // 3秒後自動消失
                setTimeout(() => {
                    notification.style.animation = 'slideOutRight 0.3s ease-in';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 3000);
            }

            // 9. 初始化所有功能
            function initializeAllFeatures() {
                try {
                    console.log('開始初始化 Terms of Service 頁面功能...');
                    
                    // 確保所有必要元素都存在
                    const tocElement = document.querySelector('.table-of-contents');
                    const tocLinks = document.querySelectorAll('.table-of-contents a[href^="#"]');
                    const sections = document.querySelectorAll('h2[id]');
                    
                    console.log(`檢查元素: 目錄=${tocElement ? '✓' : '✗'}, 連結=${tocLinks.length}, 章節=${sections.length}`);
                    
                    if (!tocElement) {
                        console.error('未找到目錄元素');
                        return;
                    }
                    
                    if (tocLinks.length === 0) {
                        console.error('未找到目錄連結');
                        return;
                    }
                    
                    if (sections.length === 0) {
                        console.error('未找到章節標題');
                        return;
                    }
                    
                    // 初始化各個功能模組
                    initSmoothScrolling();
                    console.log('✓ 平滑滾動功能已初始化');
                    
                    initScrollSpy();
                    console.log('✓ 滾動監聽功能已初始化');
                    
                    initReadingProgress();
                    console.log('✓ 閱讀進度條已初始化');
                    
                    initBackToTop();
                    console.log('✓ 返回頂部按鈕已初始化');
                    
                    initKeyboardShortcuts();
                    console.log('✓ 鍵盤快捷鍵已初始化');
                    
                    initEmailCopy();
                    console.log('✓ 電子郵件複製功能已初始化');
                    
                    console.log('✅ Terms of Service 頁面所有功能已成功初始化');
                    
                    // 運行調試信息
                    debugTOC();
                    
                    // 檢查URL中的錨點並跳轉
                    if (window.location.hash) {
                        const targetId = window.location.hash.substring(1);
                        console.log(`檢測到URL錨點: #${targetId}`);
                        
                        setTimeout(() => {
                            const targetElement = document.getElementById(targetId);
                            if (targetElement) {
                                console.log(`跳轉到URL錨點: #${targetId}`);
                                testJump(targetId);
                            }
                        }, 500);
                    }
                    
                } catch (error) {
                    console.error('初始化過程中發生錯誤:', error);
                }
            }

            // 等待DOM完全加載後初始化
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initializeAllFeatures);
            } else {
                // DOM已經加載完成
                initializeAllFeatures();
            }
            
            // 為了確保萬無一失，也在window.onload時再次檢查
            window.addEventListener('load', function() {
                // 如果還沒有初始化，則重新初始化
                if (!document.querySelector('.reading-progress')) {
                    console.log('頁面完全加載後重新初始化...');
                    initializeAllFeatures();
                }
            });
        });

        // 10. 調試和測試功能
        window.debugTOC = function() {
            console.log('=== TOC Debug Info ===');
            
            const tocLinks = document.querySelectorAll('.table-of-contents a[href^="#"]');
            const sections = document.querySelectorAll('h2[id]');
            
            console.log(`目錄連結數量: ${tocLinks.length}`);
            console.log(`章節數量: ${sections.length}`);
            
            console.log('\n=== 目錄連結檢查 ===');
            tocLinks.forEach((link, index) => {
                const href = link.getAttribute('href');
                const targetId = href.substring(1);
                const target = document.getElementById(targetId);
                const linkText = link.textContent.trim();
                console.log(`${index + 1}. "${linkText}" -> ${href} -> ${target ? '✓ 找到' : '✗ 未找到'}`);
                if (target) {
                    console.log(`   目標位置: ${target.offsetTop}px`);
                }
            });
            
            console.log('\n=== 章節ID檢查 ===');
            sections.forEach((section, index) => {
                const id = section.getAttribute('id');
                const text = section.textContent.trim();
                console.log(`${index + 1}. #${id} -> "${text}"`);
            });
            
            return {
                tocLinks: tocLinks.length,
                sections: sections.length,
                allLinked: tocLinks.length === sections.length
            };
        };
        
        // 測試特定連結的跳轉
        window.testJump = function(targetId) {
            const target = document.getElementById(targetId);
            if (target) {
                const navbar = document.querySelector('.navbar');
                const navHeight = navbar ? navbar.offsetHeight : 0;
                const targetRect = target.getBoundingClientRect();
                const currentScrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const targetScrollTop = currentScrollTop + targetRect.top - navHeight - 20;
                
                console.log(`測試跳轉到: #${targetId}`);
                console.log(`目標元素位置: ${target.offsetTop}px`);
                console.log(`導航欄高度: ${navHeight}px`);
                console.log(`計算的滾動位置: ${targetScrollTop}px`);
                
                window.scrollTo({
                    top: Math.max(0, targetScrollTop),
                    behavior: 'smooth'
                });
                
                // 添加臨時高亮
                target.style.background = 'rgba(74, 108, 247, 0.2)';
                setTimeout(() => {
                    target.style.background = '';
                }, 2000);
                
                return true;
            } else {
                console.error(`未找到元素: #${targetId}`);
                return false;
            }
        };
        
        // 快速測試所有跳轉
        window.testAllJumps = function() {
            const ids = ['acceptance', 'description', 'registration', 'subscription', 'use-restrictions', 'data-disclaimer', 'intellectual-property', 'privacy', 'limitation', 'termination', 'modifications', 'governing-law', 'contact'];
            
            let index = 0;
            function nextTest() {
                if (index < ids.length) {
                    console.log(`測試 ${index + 1}/${ids.length}: ${ids[index]}`);
                    testJump(ids[index]);
                    index++;
                    setTimeout(nextTest, 2000); // 每2秒測試一個
                }
            }
            
            nextTest();
        };
    </script>
</body>
</html>